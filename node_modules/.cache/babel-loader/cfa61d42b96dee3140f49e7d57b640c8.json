{"ast":null,"code":"var _jsxFileName = \"/Users/real/Desktop/last/give-for-child/src/backoffice/Foundation-catagory.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Table, Row, Button, Card, Form, Modal } from 'react-bootstrap';\nimport './css/ActivityBack.css';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { BsArrowLeftShort } from 'react-icons/bs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Catagory = props => {\n  _s();\n\n  const [rowData, setRowData] = useState([]);\n  const [name, setName] = useState('');\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  useEffect(() => {\n    updateRows();\n  }, []);\n\n  const updateRows = async () => {\n    try {\n      await axios.get(`/foundation-catagory/${props.match.params.name}`).then(function (res) {\n        if (res.data) {\n          setRowData(res.data);\n        }\n      }).catch(function (err) {});\n    } catch (err) {\n      console.log(err);\n\n      if (err.response.status === 500) {} else {}\n    }\n\n    clearInput();\n  };\n\n  const clearInput = () => {\n    setName('');\n    handleClose();\n  };\n\n  const setRow = (foundation, data) => {\n    //   console.log(__dirname);\n    //   const pathDir = window.location.pathname + '../../../api/src/uploads';\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: data.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: data.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/backend/foundation/${foundation}/${data.name}`,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-info\",\n            children: \"Option\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn btn-danger\",\n          onClick: () => {\n            Delete(data.id);\n          },\n          children: \"\\u0E25\\u0E1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  };\n\n  const onSubmit = async () => {\n    if (!name) {\n      Swal.fire('', 'กรอกข้อมูลให้ครบ', 'warning');\n      return;\n    }\n\n    const data = {\n      name: name,\n      foundation_name: props.match.params.name\n    };\n\n    try {\n      await axios.post('/foundation-catagory/', data).then(res => {\n        if (res.status == 200) {\n          Swal.fire('', 'สำเร็จ', 'success');\n          handleClose();\n          updateRows();\n        }\n      }).catch(err => {\n        Swal.fire('', 'ผิดพลาด', 'error');\n      });\n    } catch (err) {\n      Swal.fire('', 'พลาด', 'error');\n    }\n  };\n\n  const Delete = id => {\n    Swal.fire({\n      title: 'ต้องการลบ ?',\n      text: '',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'ตกลง',\n      cancelButtonText: 'ยกเลิก'\n    }).then(result => {\n      if (result.isConfirmed) {\n        try {\n          axios.delete(`/foundation-catagory/${id}`).then(function (res) {\n            Swal.fire('ลบแล้ว', '', 'success');\n            updateRows();\n          }).catch(function (err) {\n            Swal.fire('ผิดพลาด', '', 'error');\n          });\n        } catch (err) {\n          console.log(err);\n\n          if (err.response.status === 500) {} else {}\n        }\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"all-font\",\n    style: {\n      width: 'calc(100%-300px;)',\n      height: '100vh',\n      overflow: 'scroll'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '3rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/backend/foundation\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            paddingLeft: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(BsArrowLeftShort, {\n            size: 28,\n            color: '#000000'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-back\",\n            children: \"\\u0E22\\u0E49\\u0E2D\\u0E19\\u0E01\\u0E25\\u0E31\\u0E1A \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          padding: '1.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n          children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleShow,\n            children: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          hover: true,\n          style: {\n            marginTop: '1.5%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                width: \"50\",\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                width: \"500\",\n                children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                width: \"50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                width: \"50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: rowData.map(v => setRow(props.match.params.name, v))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"Form.name\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"\",\n            onChange: e => {\n              setName(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: onSubmit,\n            variant: \"info\",\n            style: {\n              width: '200px'\n            },\n            children: \"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Catagory, \"BpBdxzJ8+h/rwptbfEUPTRSUZF8=\");\n\n_c = Catagory;\nexport default Catagory;\n\nvar _c;\n\n$RefreshReg$(_c, \"Catagory\");","map":{"version":3,"sources":["/Users/real/Desktop/last/give-for-child/src/backoffice/Foundation-catagory.js"],"names":["React","useState","useEffect","Link","Table","Row","Button","Card","Form","Modal","axios","Swal","BsArrowLeftShort","Catagory","props","rowData","setRowData","name","setName","show","setShow","handleClose","handleShow","updateRows","get","match","params","then","res","data","catch","err","console","log","response","status","clearInput","setRow","foundation","id","Delete","onSubmit","fire","foundation_name","post","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","delete","width","height","overflow","padding","paddingLeft","marginTop","map","v","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Table, Row, Button, Card, Form, Modal } from 'react-bootstrap';\nimport './css/ActivityBack.css';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { BsArrowLeftShort } from 'react-icons/bs';\n\n\n\nconst Catagory = (props) => {\n    const [rowData, setRowData] = useState([]);\n    const [name, setName] = useState('');\n    const [show, setShow] = useState(false);\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n    useEffect(() => {\n        updateRows();\n    }, []);\n\n    const updateRows = async () => {\n        try {\n            await axios\n                .get(`/foundation-catagory/${props.match.params.name}`)\n                .then(function (res) {\n                    if (res.data) {\n                        setRowData(res.data);\n                    }\n                })\n                .catch(function (err) {});\n        } catch (err) {\n            console.log(err);\n            if (err.response.status === 500) {\n            } else {\n            }\n        }\n        clearInput();\n    };\n\n    const clearInput = () => {\n        setName('');\n        handleClose();\n    };\n\n    const setRow = (foundation, data) => {\n        //   console.log(__dirname);\n        //   const pathDir = window.location.pathname + '../../../api/src/uploads';\n        return (\n            <tr>\n                <td>{data.id}</td>\n                <td>{data.name}</td>\n                <td>\n                    <Link to={`/backend/foundation/${foundation}/${data.name}`}>\n                        <button className='btn btn-info'>Option</button>\n                    </Link>\n                </td>\n                <td>\n                    <Button\n                        className='btn btn-danger'\n                        onClick={() => {\n                            Delete(data.id);\n                        }}\n                    >\n                        ลบ\n                    </Button>\n                </td>\n            </tr>\n        );\n    };\n\n    const onSubmit = async () => {\n        if (!name) {\n            Swal.fire('', 'กรอกข้อมูลให้ครบ', 'warning');\n            return;\n        }\n        const data = {\n            name: name,\n            foundation_name: props.match.params.name,\n        };\n        try {\n            await axios\n                .post('/foundation-catagory/', data)\n                .then((res) => {\n                    if (res.status == 200) {\n                        Swal.fire('', 'สำเร็จ', 'success');\n                        handleClose();\n                        updateRows();\n                    }\n                })\n                .catch((err) => {\n                    Swal.fire('', 'ผิดพลาด', 'error');\n                });\n        } catch (err) {\n            Swal.fire('', 'พลาด', 'error');\n        }\n    };\n    const Delete = (id) => {\n        Swal.fire({\n            title: 'ต้องการลบ ?',\n            text: '',\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'ตกลง',\n            cancelButtonText: 'ยกเลิก',\n        }).then((result) => {\n            if (result.isConfirmed) {\n                try {\n                    axios\n                        .delete(`/foundation-catagory/${id}`)\n                        .then(function (res) {\n                            Swal.fire('ลบแล้ว', '', 'success');\n                            updateRows();\n                        })\n                        .catch(function (err) {\n                            Swal.fire('ผิดพลาด', '', 'error');\n                        });\n                } catch (err) {\n                    console.log(err);\n                    if (err.response.status === 500) {\n                    } else {\n                    }\n                }\n            }\n        });\n    };\n\n    return (\n        <div\n            className='all-font'\n            style={{\n                width: 'calc(100%-300px;)',\n                height: '100vh',\n                overflow: 'scroll',\n            }}\n        >\n            <div style={{ padding: '3rem' }}>\n                <Link to='/backend/foundation'>\n                    <Row style={{ paddingLeft: '16px' }}>\n                        <BsArrowLeftShort size={28} color={'#000000'} />\n                        <div className='text-back'>ย้อนกลับ </div>\n                    </Row>\n                </Link>\n                <Card style={{ padding: '1.5rem' }}>\n                    <Card.Title>ประเภท</Card.Title>\n                    <div>\n                        <Button variant='primary' onClick={handleShow}>\n                            เพิ่ม\n                        </Button>\n                    </div>\n\n                    <Table striped hover style={{ marginTop: '1.5%' }}>\n                        <thead>\n                            <tr>\n                                <th width='50'>ID</th>\n                                <th width='500'>ชื่อ</th>\n                                <th width='50'></th>\n                                <th width='50'></th>\n                            </tr>\n                        </thead>\n                        <tbody>{rowData.map((v) => setRow(props.match.params.name, v))}</tbody>\n                    </Table>\n                </Card>\n            </div>\n            <Modal show={show} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>เพิ่ม</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form.Group controlId='Form.name'>\n                        <Form.Label>ชื่อ</Form.Label>\n                        <Form.Control\n                            type='text'\n                            placeholder=''\n                            onChange={(e) => {\n                                setName(e.target.value);\n                            }}\n                        />\n                    </Form.Group>\n                    <Form.Group>\n                        <Button onClick={onSubmit} variant='info' style={{ width: '200px' }}>\n                            ยืนยัน\n                        </Button>\n                    </Form.Group>\n                </Modal.Body>\n            </Modal>\n        </div>\n    );\n};\n\nexport default Catagory;\n"]},"metadata":{},"sourceType":"module"}