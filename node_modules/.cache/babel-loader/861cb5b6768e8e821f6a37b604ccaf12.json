{"ast":null,"code":"var _jsxFileName = \"/Users/real/Desktop/last/give-for-child/src/backoffice/Foundation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Table, Form, FormControl, Button, Card, Modal } from 'react-bootstrap';\nimport './css/ActivityBack.css';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Foundation = () => {\n  _s();\n\n  const [file, setFile] = useState(null);\n  const [rowData, setRowData] = useState([]);\n  const [name, setName] = useState('');\n  const [url, setUrl] = useState('');\n  const [address, setAddress] = useState('');\n  useEffect(() => {\n    updateRows();\n  }, []);\n\n  const updateRows = async () => {\n    try {\n      await axios.get(`/foundation`).then(function (res) {\n        if (res.data) {\n          setRowData(res.data);\n        }\n      }).catch(function (err) {});\n    } catch (err) {\n      console.log(err);\n\n      if (err.response.status === 500) {} else {}\n    }\n\n    clearInput();\n  };\n\n  const clearInput = () => {\n    setName('');\n    setUrl('');\n    setFile(null);\n    handleClose();\n  };\n\n  const setRow = data => {\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: data.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: '../resources/uploads/' + data.img,\n          style: {\n            width: '80px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: data.url,\n          target: \"_blank\",\n          children: data.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: data.address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/backend/foundation/${data.name}`,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-info\",\n            children: \"Catagory\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn btn-danger\",\n          onClick: () => {\n            Delete(data.id);\n          },\n          children: \"\\u0E25\\u0E1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  };\n\n  const onSubmit = async () => {\n    if (!file || !name || !url || !address) {\n      Swal.fire('', 'กรอกข้อมูลให้ครบ', 'warning');\n      return;\n    }\n\n    const data = {\n      name: name,\n      url: url,\n      address: address\n    };\n    let form = new FormData();\n    form.append('file', file);\n    form.append('data', JSON.stringify(data));\n\n    try {\n      await axios.post('/foundation/', form).then(res => {\n        if (res.status == 200) {\n          Swal.fire('', 'สำเร็จ', 'success');\n          handleClose();\n          updateRows();\n        }\n      }).catch(err => {\n        Swal.fire('', 'พลาด', 'error');\n      });\n    } catch (err) {\n      Swal.fire('', 'พลาด', 'error');\n    }\n  };\n\n  const Delete = id => {\n    Swal.fire({\n      title: 'ต้องการลบ ?',\n      text: '',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'ตกลง',\n      cancelButtonText: 'ยกเลิก'\n    }).then(result => {\n      if (result.isConfirmed) {\n        try {\n          axios.delete(`/foundation/${id}`).then(function (res) {\n            Swal.fire('ลบแล้ว', res.data, 'success');\n            updateRows();\n          }).catch(function (err) {\n            Swal.fire('ผิดพลาด', '', 'error');\n          });\n        } catch (err) {\n          console.log(err);\n\n          if (err.response.status === 500) {} else {}\n        }\n      }\n    });\n  };\n\n  const onImgChange = e => {\n    setFile(e.target.files[0]);\n  };\n\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"all-font\",\n    style: {\n      width: 'calc(100%-300px;)',\n      height: '100vh',\n      overflow: 'scroll'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '3rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          padding: '1.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n          children: \"\\u0E21\\u0E39\\u0E25\\u0E19\\u0E34\\u0E18\\u0E34\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleShow,\n            children: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          hover: true,\n          style: {\n            marginTop: '1.5%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                width: \"50\",\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                width: \"100\",\n                children: \"\\u0E23\\u0E39\\u0E1B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                width: \"200\",\n                children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                width: \"350\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                width: \"80\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                width: \"80\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: rowData.map(v => setRow(v))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"Form.name\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"\",\n            onChange: e => {\n              setName(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"Form.url\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"URL Link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"\",\n            onChange: e => {\n              setUrl(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"Form.url\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"textarea\",\n            rows: 3,\n            onChange: e => {\n              setAddress(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"Image\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E23\\u0E39\\u0E1B\\u0E20\\u0E32\\u0E1E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"file\",\n            onChange: onImgChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: onSubmit,\n            variant: \"info\",\n            style: {\n              width: '200px'\n            },\n            children: \"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Foundation, \"NGmexXnndp4LU8vISgJgqGVdt64=\");\n\n_c = Foundation;\nexport default Foundation;\n\nvar _c;\n\n$RefreshReg$(_c, \"Foundation\");","map":{"version":3,"sources":["/Users/real/Desktop/last/give-for-child/src/backoffice/Foundation.js"],"names":["React","useState","useEffect","Link","Table","Form","FormControl","Button","Card","Modal","axios","Swal","Foundation","file","setFile","rowData","setRowData","name","setName","url","setUrl","address","setAddress","updateRows","get","then","res","data","catch","err","console","log","response","status","clearInput","handleClose","setRow","id","img","width","Delete","onSubmit","fire","form","FormData","append","JSON","stringify","post","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","delete","onImgChange","e","target","files","show","setShow","handleShow","height","overflow","padding","marginTop","map","v","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Table, Form, FormControl, Button, Card, Modal } from 'react-bootstrap';\nimport './css/ActivityBack.css';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\n\n\n\nconst Foundation = () => {\n    const [file, setFile] = useState(null);\n    const [rowData, setRowData] = useState([]);\n    const [name, setName] = useState('');\n    const [url, setUrl] = useState('');\n    const [address, setAddress] = useState('');\n\n    useEffect(() => {\n        updateRows();\n    }, []);\n\n    const updateRows = async () => {\n        try {\n            await axios\n                .get(`/foundation`)\n                .then(function (res) {\n                    if (res.data) {\n                        setRowData(res.data);\n                    }\n                })\n                .catch(function (err) {});\n        } catch (err) {\n            console.log(err);\n            if (err.response.status === 500) {\n            } else {\n            }\n        }\n        clearInput();\n    };\n\n    const clearInput = () => {\n        setName('');\n        setUrl('');\n        setFile(null);\n        handleClose();\n    };\n\n    const setRow = (data) => {\n        return (\n            <tr>\n                <td>{data.id}</td>\n                <td>\n                    <img src={'../resources/uploads/' + data.img} style={{ width: '80px' }} />\n                </td>\n                <td>\n                    <a href={data.url} target='_blank'>\n                        {data.name}\n                    </a>\n                </td>\n                <td>{data.address}</td>\n                <td>\n                    <Link to={`/backend/foundation/${data.name}`}>\n                        <button className='btn btn-info'>Catagory</button>\n                    </Link>\n                </td>\n                <td>\n                    <Button\n                        className='btn btn-danger'\n                        onClick={() => {\n                            Delete(data.id);\n                        }}\n                    >\n                        ลบ\n                    </Button>\n                </td>\n            </tr>\n        );\n    };\n\n    const onSubmit = async () => {\n        if (!file || !name || !url || !address) {\n            Swal.fire('', 'กรอกข้อมูลให้ครบ', 'warning');\n            return;\n        }\n        const data = {\n            name: name,\n            url: url,\n            address: address\n        };\n        let form = new FormData();\n        form.append('file', file);\n        form.append('data', JSON.stringify(data));\n        try {\n            await axios\n                .post('/foundation/', form)\n                .then((res) => {\n                    if (res.status == 200) {\n                        Swal.fire('', 'สำเร็จ', 'success');\n                        handleClose();\n                        updateRows();\n                    }\n                })\n                .catch((err) => {\n                    Swal.fire('', 'พลาด', 'error');\n                });\n        } catch (err) {\n            Swal.fire('', 'พลาด', 'error');\n        }\n    };\n\n    const Delete = (id) => {\n        Swal.fire({\n            title: 'ต้องการลบ ?',\n            text: '',\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'ตกลง',\n            cancelButtonText: 'ยกเลิก',\n        }).then((result) => {\n            if (result.isConfirmed) {\n                try {\n                    axios\n                        .delete(`/foundation/${id}`)\n                        .then(function (res) {\n                            Swal.fire('ลบแล้ว', res.data, 'success');\n                            updateRows();\n                        })\n                        .catch(function (err) {\n                            Swal.fire('ผิดพลาด', '', 'error');\n                        });\n                } catch (err) {\n                    console.log(err);\n                    if (err.response.status === 500) {\n                    } else {\n                    }\n                }\n            }\n        });\n    };\n\n    const onImgChange = (e) => {\n        setFile(e.target.files[0]);\n    };\n\n    const [show, setShow] = useState(false);\n\n\n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    return (\n        <div\n            className='all-font'\n            style={{\n                width: 'calc(100%-300px;)',\n                height: '100vh',\n                overflow: 'scroll',\n            }}\n        >\n            <div style={{ padding: '3rem' }}>\n                <Card style={{ padding: '1.5rem' }}>\n                    <Card.Title>มูลนิธิ</Card.Title>\n                    <div>\n                        <Button variant='primary' onClick={handleShow}>\n                            เพิ่ม\n                        </Button>\n                    </div>\n\n                    {/* <Form inline>\n                        <label>Search</label>\n                        <FormControl\n                            type='text'\n                            placeholder='Search'\n                            className=' mr-sm-2'\n                            style={{ marginLeft: '2%', marginTop: '1.5%' }}\n                        />\n                    </Form> */}\n\n                    <Table striped hover style={{ marginTop: '1.5%' }}>\n                        <thead>\n                            <tr>\n                                <th width='50'>ID</th>\n                                <th width='100'>รูป</th>\n                                <th width='200'>ชื่อ</th>\n                                <th width='350'></th>\n                                <th width='80'></th>\n                                <th width='80'></th>\n                            </tr>\n                        </thead>\n                        <tbody>{rowData.map((v) => setRow(v))}</tbody>\n                    </Table>\n                </Card>\n            </div>\n\n            <Modal show={show} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>เพิ่ม</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form.Group controlId='Form.name'>\n                        <Form.Label>ชื่อ</Form.Label>\n                        <Form.Control\n                            type='text'\n                            placeholder=''\n                            onChange={(e) => {\n                                setName(e.target.value);\n                            }}\n                        />\n                    </Form.Group>\n                    <Form.Group controlId='Form.url'>\n                        <Form.Label>URL Link</Form.Label>\n                        <Form.Control\n                            type='text'\n                            placeholder=''\n                            onChange={(e) => {\n                                setUrl(e.target.value);\n                            }}\n                        />\n                    </Form.Group>\n                    <Form.Group controlId='Form.url'>\n                        <Form.Label>ที่อยู่</Form.Label>\n                        <Form.Control as=\"textarea\" rows={3} onChange={(e) => {setAddress(e.target.value)}}\n                        />\n                    </Form.Group>\n                    <Form.Group controlId='Image'>\n                        <Form.Label>เลือกรูปภาพ</Form.Label>\n                        <Form.Control type='file' onChange={onImgChange} />\n                        {/* <input id='file-img' type='file' name='filepond'  required />\n                  <div id='inputImage'></div> */}\n                    </Form.Group>\n                    <Form.Group>\n                        <Button onClick={onSubmit} variant='info' style={{ width: '200px' }}>\n                            ยืนยัน\n                        </Button>\n                    </Form.Group>\n                </Modal.Body>\n            </Modal>\n            \n        </div>\n    );\n};\n\nexport default Foundation;\n"]},"metadata":{},"sourceType":"module"}