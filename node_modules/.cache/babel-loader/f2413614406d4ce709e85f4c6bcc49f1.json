{"ast":null,"code":"var _jsxFileName = \"/Users/real/Desktop/last/give-for-child/src/pages/Activity.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useState, useEffect } from 'react';\nimport moment from 'moment';\nimport { Container, Col, Row, Tab, Tabs, Card, Button, CardDeck, Image } from 'react-bootstrap';\nimport Swal from 'sweetalert2';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { BsFillPersonFill } from 'react-icons/bs';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './css/Activity.css';\nimport Footer from '../components/Footer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet key = 'all';\n\nconst Activity = () => {\n  _s();\n\n  const history = useHistory();\n  const [activityNow, setActivityNow] = useState([]);\n  const [activityComing, setActivityComing] = useState([]);\n  useEffect(() => {\n    InitialData();\n  }, []);\n\n  const InitialData = async () => {\n    await axios.get(`/activities/now`).then(res => {\n      if (res.data) {\n        setActivityNow(res.data.map(v => CardActivity(v)));\n      }\n    });\n    await axios.get(`/activities/coming-soon`).then(res => {\n      if (res.data) {\n        setActivityComing(res.data.map(v => CardActivity(v, false)));\n      }\n    });\n  };\n\n  const Confirm = id => {\n    Swal.fire({\n      title: 'ยืนยันเข้าร่วม',\n      text: '',\n      icon: 'info',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#ccc',\n      confirmButtonText: 'ตกลง',\n      cancelButtonText: 'ยกเลิก'\n    }).then(result => {\n      if (result.isConfirmed) {\n        joinActivity(id);\n      }\n    });\n  };\n\n  const joinActivity = async activity_id => {\n    const data = {\n      activity_id: activity_id,\n      member_id: localStorage.getItem('id')\n    };\n\n    try {\n      axios.post('/join-activity', data).then(function (res) {\n        Swal.fire('', res.data, 'success');\n        history.push({\n          pathname: '/activity-list',\n          search: '?tab=activity'\n        });\n      }).catch(function (err) {\n        Swal.fire('', 'ไม่สามารถเข้าร่วมได้', 'error');\n      });\n    } catch (err) {\n      Swal.fire('', 'ไม่สามารถเข้าร่วมได้', 'error');\n    }\n  };\n\n  const CardActivity = (data, coming = true) => {\n    let start = new Date(data.start_time);\n    let end = new Date(data.end_time);\n\n    const JoinBtn = () => {\n      return /*#__PURE__*/_jsxDEV(Button, {\n        className: \"font-button\",\n        style: {\n          width: '100%',\n          backgroundColor: '#377780',\n          color: 'white'\n        },\n        variant: \"\",\n        onClick: () => {\n          Confirm(data.id);\n        },\n        disabled: data.person >= data.person_max,\n        children: data.person >= data.person_max ? 'เต็มแล้ว' : 'เข้าร่วมกิจกรรม'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this);\n    };\n\n    return /*#__PURE__*/_jsxDEV(Card, {\n      border: \"light\",\n      className: \"card shadow card-radin \",\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"head-card\",\n        style: {\n          backgroundImage: `url('./resources/uploads/${data.image}')`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n          style: {\n            fontSize: '22px'\n          },\n          children: data.name.substring(0, 40) + (data.name.length > 40 ? '...' : '')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n          style: {\n            fontSize: '14px',\n            fontWeight: '400',\n            marginTop: ''\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: 'Gray'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                float: 'left'\n              },\n              children: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E40\\u0E1B\\u0E34\\u0E14/\\u0E1B\\u0E34\\u0E14\\u0E23\\u0E31\\u0E1A\\u0E2A\\u0E21\\u0E31\\u0E04\\u0E23 : \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#377780'\n              },\n              children: [moment(start).format('D/MM/YY'), \" - \", moment(end).format('D/MM/YY')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n          style: {\n            fontSize: '16px',\n            fontWeight: '400'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                float: 'left',\n                fontSize: '25px',\n                marginTop: -15\n              },\n              children: /*#__PURE__*/_jsxDEV(BsFillPersonFill, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: '#377780',\n                paddingRight: 10\n              },\n              children: [' ', \"\\u0E04\\u0E19\\u0E40\\u0E02\\u0E49\\u0E32\\u0E23\\u0E48\\u0E27\\u0E21\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21 \", data.person, \"/\", data.person_max, \" \\u0E04\\u0E19\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n          children: data.description.substring(0, 150) + (data.description.length > 150 ? '...' : '')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 5,\n            xs: 5,\n            children: coming ? /*#__PURE__*/_jsxDEV(JoinBtn, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 39\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: {\n              span: 5,\n              offset: 2\n            },\n            xs: {\n              span: 5,\n              offset: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/activity-detail/${data.id}`,\n              style: {\n                color: 'white'\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"font-button\",\n                style: {\n                  width: '100%',\n                  backgroundColor: '#377780',\n                  color: 'white'\n                },\n                variant: \"\",\n                children: \"\\u0E14\\u0E39\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      className: \"all-font\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: 'Left'\n        },\n        children: \"\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21\\u0E2D\\u0E32\\u0E2A\\u0E32\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-tabs-50\",\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          className: \"font-teb \",\n          defaultActiveKey: \"home\",\n          transition: false,\n          id: \"noanim-tab-example\",\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            eventKey: \"home\",\n            title: \"\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21\\u0E02\\u0E13\\u0E30\\u0E19\\u0E35\\u0E49\",\n            children: /*#__PURE__*/_jsxDEV(Container, {\n              className: \"all-font\",\n              children: /*#__PURE__*/_jsxDEV(CardDeck, {\n                children: activityNow\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            eventKey: \"profile\",\n            title: \"\\u0E17\\u0E35\\u0E48\\u0E08\\u0E30\\u0E21\\u0E32\\u0E16\\u0E36\\u0E07\",\n            children: /*#__PURE__*/_jsxDEV(CardDeck, {\n              children: activityComing\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Activity, \"tm/A2Ei9kfru8XTuJayg6hZ0qvI=\", false, function () {\n  return [useHistory];\n});\n\n_c = Activity;\nexport default Activity;\n\nvar _c;\n\n$RefreshReg$(_c, \"Activity\");","map":{"version":3,"sources":["/Users/real/Desktop/last/give-for-child/src/pages/Activity.js"],"names":["React","Component","useState","useEffect","moment","Container","Col","Row","Tab","Tabs","Card","Button","CardDeck","Image","Swal","Link","useHistory","axios","BsFillPersonFill","Footer","key","Activity","history","activityNow","setActivityNow","activityComing","setActivityComing","InitialData","get","then","res","data","map","v","CardActivity","Confirm","id","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","joinActivity","activity_id","member_id","localStorage","getItem","post","push","pathname","search","catch","err","coming","start","Date","start_time","end","end_time","JoinBtn","width","backgroundColor","color","person","person_max","marginTop","backgroundImage","image","fontSize","name","substring","length","fontWeight","float","format","paddingRight","description","span","offset","textAlign"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from 'react';\nimport moment from 'moment';\nimport { Container, Col, Row, Tab, Tabs, Card, Button, CardDeck, Image } from 'react-bootstrap';\nimport Swal from 'sweetalert2';\nimport { Link,useHistory } from 'react-router-dom';\n\nimport axios from 'axios';\nimport { BsFillPersonFill } from 'react-icons/bs';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './css/Activity.css';\nimport Footer from '../components/Footer';\n\nlet key = 'all';\n\nconst Activity = () => {\n    const history = useHistory();\n    const [activityNow, setActivityNow] = useState([]);\n    const [activityComing, setActivityComing] = useState([]);\n\n    useEffect(() => {\n        InitialData();\n    }, []);\n\n    const InitialData = async () => {\n        await axios.get(`/activities/now`).then((res) => {\n            if (res.data) {\n                setActivityNow(res.data.map((v) => CardActivity(v)));\n            }\n        });\n        await axios.get(`/activities/coming-soon`).then((res) => {\n            if (res.data) {\n                setActivityComing(res.data.map((v) => CardActivity(v, false)));\n            }\n        });\n    };\n\n    \n    const Confirm = (id) => {\n        Swal.fire({\n            title: 'ยืนยันเข้าร่วม',\n            text: '',\n            icon: 'info',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#ccc',\n            confirmButtonText: 'ตกลง',\n            cancelButtonText: 'ยกเลิก',\n        }).then((result) => {\n            if (result.isConfirmed) {\n                joinActivity(id);\n            }\n        });\n    };\n\n    const joinActivity = async (activity_id) => {\n        const data = {\n            activity_id: activity_id,\n            member_id: localStorage.getItem('id'),\n        };\n        try {\n            axios\n                .post('/join-activity', data)\n                .then(function (res) {\n                    Swal.fire('', res.data, 'success');\n                    history.push({\n                        pathname: '/activity-list',\n                        search: '?tab=activity',\n                    });\n                })\n                .catch(function (err) {\n                    Swal.fire('', 'ไม่สามารถเข้าร่วมได้', 'error');\n                });\n        } catch (err) {\n            Swal.fire('', 'ไม่สามารถเข้าร่วมได้', 'error');\n        }\n    };\n\n    const CardActivity = (data, coming = true) => {\n        let start = new Date(data.start_time);\n        let end = new Date(data.end_time);\n\n        const JoinBtn = () => {\n            return (\n                <Button\n                    className='font-button'\n                    style={{\n                        width: '100%',\n                        backgroundColor: '#377780',\n                        color: 'white',\n                    }}\n                    variant=''\n                    onClick={() => {\n                        Confirm(data.id);\n                    }}\n                    disabled={data.person >= data.person_max}\n                >\n                    {data.person >= data.person_max ? 'เต็มแล้ว' : 'เข้าร่วมกิจกรรม'}\n                </Button>\n            );\n        };\n        return (\n            <Card border='light' className='card shadow card-radin ' style={{ marginTop: 20 }}>\n                <div\n                    className='head-card'\n                    style={{\n                        backgroundImage: `url('./resources/uploads/${data.image}')`,\n                    }}\n                ></div>\n                {/* <Card.Img variant='top' src= /> */}\n                <Card.Body>\n                    <Card.Title style={{ fontSize: '22px' }}>\n                        {data.name.substring(0, 40) + (data.name.length > 40 ? '...' : '')}\n                    </Card.Title>\n                    <Card.Text style={{ fontSize: '14px', fontWeight: '400', marginTop: '' }}>\n                        <div style={{ color: 'Gray' }}>\n                            <p style={{ float: 'left' }}>วันที่เปิด/ปิดรับสมัคร : </p>\n                            <p style={{ color: '#377780' }}>\n                                {moment(start).format('D/MM/YY')} - {moment(end).format('D/MM/YY')}\n                            </p>\n                        </div>\n                    </Card.Text>\n\n                    <Card.Text style={{ fontSize: '16px', fontWeight: '400' }}>\n                        <div>\n                            <p\n                                style={{\n                                    float: 'left',\n                                    fontSize: '25px',\n                                    marginTop: -15,\n                                }}\n                            >\n                                <BsFillPersonFill />\n                            </p>\n                            <p style={{ color: '#377780', paddingRight: 10 }}>\n                                {' '}\n                                คนเข้าร่วมกิจกรรม {data.person}/{data.person_max} คน\n                            </p>\n                        </div>\n                    </Card.Text>\n\n                    <Card.Text>\n                        {data.description.substring(0, 150) + (data.description.length > 150 ? '...' : '')}\n                    </Card.Text>\n\n                    <Row>\n                        <Col md={5} xs={5}>\n                            {coming ? <JoinBtn /> : null}\n                        </Col>\n\n                        <Col md={{ span: 5, offset: 2 }} xs={{ span: 5, offset: 2 }}>\n                            <Link to={`/activity-detail/${data.id}`} style={{ color: 'white' }}>\n                                <Button\n                                className='font-button'\n                                style={{\n                                    width: '100%',\n                                    backgroundColor: '#377780',\n                                    color: 'white',\n                                }}\n                                variant=''\n                            >\n                                    ดูรายละเอียด\n                                </Button>\n                            </Link>\n                        </Col>\n                    </Row>\n                </Card.Body>\n            </Card>\n        );\n    };\n\n    return (\n        <div>\n            {/* <Image src='./resources/eventsBanner.jpg' fluid /> */}\n            <Container className='all-font'>\n                <br />\n\n                <h3 style={{ textAlign: 'Left' }}>กิจกรรมอาสา</h3>\n                <br />\n\n                <div className='nav-tabs-50'>\n                    <Tabs className='font-teb ' defaultActiveKey='home' transition={false} id='noanim-tab-example'>\n                        <Tab eventKey='home' title='กิจกรรมขณะนี้'>\n                            <Container className='all-font'>\n                                <CardDeck>{activityNow}</CardDeck>\n                            </Container>\n                        </Tab>\n                        <Tab eventKey='profile' title='ที่จะมาถึง'>\n                            <CardDeck>{activityComing}</CardDeck>\n                        </Tab>\n                    </Tabs>\n                </div>\n                <br />\n            </Container>\n            <Footer />\n        </div>\n    );\n};\n\nexport default Activity;\n"]},"metadata":{},"sourceType":"module"}