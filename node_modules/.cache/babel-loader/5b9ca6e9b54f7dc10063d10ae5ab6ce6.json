{"ast":null,"code":"var _jsxFileName = \"/Users/real/Desktop/last \\u0E1E\\u0E23\\u0E35\\u0E23\\u0E2D\\u0E1A5/give-for-child/src/pages/ActivityDetail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport moment from 'moment';\nimport { Container, Col, Row, Tab, Tabs, Card, Button } from 'react-bootstrap';\nimport Swal from 'sweetalert2';\nimport axios from 'axios';\nimport { BsArrowLeftShort } from 'react-icons/bs';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './css/Activity.css';\nimport Footer from '../components/Footer';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ThaiDate = date => {\n  return date.toLocaleDateString('th-TH', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  });\n};\n\n_c = ThaiDate;\n\nconst ActivityDetail = props => {\n  _s();\n\n  const [activity, setActivity] = useState({});\n  useEffect(() => {\n    try {\n      axios.get(`/activity/${props.match.params.id}}`).then(function (res) {\n        setActivity(res.data);\n      }).catch(function (err) {});\n    } catch (err) {\n      console.log(err);\n\n      if (err.response.status === 500) {} else {}\n    }\n  }, []);\n\n  const Confirm = method => {\n    Swal.fire({\n      title: 'ยืนยันเข้าร่วม',\n      text: '',\n      icon: 'info',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#ccc',\n      confirmButtonText: 'ตกลง',\n      cancelButtonText: 'ยกเลิก'\n    }).then(result => {\n      if (result.isConfirmed) {\n        method();\n      }\n    });\n  };\n\n  const joinActivity = async activity_id => {\n    const data = {\n      activity_id: activity_id,\n      member_id: localStorage.getItem('id')\n    };\n\n    try {\n      axios.post('/join-activity', data).then(function (res) {\n        Swal.fire('', res.data, 'success');\n        console.log(res.data);\n      }).catch(function (err) {\n        Swal.fire('', 'พลาด', 'error');\n      });\n    } catch (err) {\n      console.log(err);\n\n      if (err.response.status === 500) {\n        Swal.fire('', 'พลาด', 'error');\n      } else {\n        Swal.fire('', 'พลาด', 'error');\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      className: \"all-font\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            onClick: () => {\n              window.history.back();\n            },\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              style: {\n                paddingLeft: '16px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(BsArrowLeftShort, {\n                size: 28,\n                color: '#000000'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-back\",\n                children: \"\\u0E22\\u0E49\\u0E2D\\u0E19\\u0E01\\u0E25\\u0E31\\u0E1A \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: {\n            span: 4,\n            offset: 4\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              textAlign: 'right'\n            },\n            children: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-tabs-50 mb-5\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            sm: 8,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              border: \"light\",\n              className: \"card shadow\",\n              style: {\n                marginTop: 20\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-card\",\n                style: {\n                  backgroundImage: `url('../resources/uploads/${activity.image}')`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                  style: {\n                    fontSize: '22px'\n                  },\n                  children: activity.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                  style: {\n                    fontSize: '14px',\n                    fontWeight: '400'\n                  },\n                  children: [ThaiDate(new Date(activity.start_time)), \" - \", ThaiDate(new Date(activity.end_time))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                  children: activity.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            sm: 4,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              border: \"light\",\n              className: \"card shadow\",\n              style: {\n                marginTop: 20\n              },\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  style: {\n                    paddingLeft: '16px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: process.env.PUBLIC_URL + '/resources/icon-show.png',\n                    style: {\n                      width: 25\n                    },\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-detail\",\n                    children: [\"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E17\\u0E35\\u0E48 :\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"data-detail\",\n                      children: activity.location\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 138,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  style: {\n                    paddingLeft: '16px',\n                    marginTop: '5px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: process.env.PUBLIC_URL + '/resources/icon-show-call.png',\n                    style: {\n                      width: 25\n                    },\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-detail\",\n                    children: \"\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D :\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"data-detail\",\n                    children: activity.tel\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  style: {\n                    paddingLeft: '16px',\n                    marginTop: '5px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: process.env.PUBLIC_URL + '/resources/icon-show-home.png',\n                    style: {\n                      width: 25\n                    },\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-detail\",\n                    children: \"\\u0E1C\\u0E39\\u0E49\\u0E08\\u0E31\\u0E14\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21 :\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"data-detail\",\n                    children: activity.foundation\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  style: {\n                    paddingLeft: '16px',\n                    marginTop: '5px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: process.env.PUBLIC_URL + '/resources/icon-show-calenda.png',\n                    style: {\n                      width: 25\n                    },\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-detail\",\n                    children: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E08\\u0E31\\u0E14\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21 :\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"data-detail\",\n                    children: ThaiDate(new Date(activity.start_time))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  style: {\n                    paddingLeft: '16px',\n                    marginTop: '5px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: process.env.PUBLIC_URL + '/resources/icon-show-user.png',\n                    style: {\n                      width: 25\n                    },\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-detail\",\n                    children: \"\\u0E04\\u0E19\\u0E40\\u0E02\\u0E49\\u0E32\\u0E23\\u0E48\\u0E27\\u0E21\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21 :\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"data-detail\",\n                    children: [activity.person, \"/\", activity.person_max, \" \\u0E04\\u0E19\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 33\n                }, this), new Date(activity.start_time) < new Date() && localStorage.getItem('id') != null ? /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      style: {\n                        width: '100%',\n                        backgroundColor: '#377780',\n                        color: 'white'\n                      },\n                      variant: \"\",\n                      onClick: () => {\n                        Confirm(() => {\n                          joinActivity(activity.id);\n                        });\n                      },\n                      disabled: activity.person >= activity.person_max,\n                      children: activity.person >= activity.person_max ? 'เต็มแล้ว' : 'เข้าร่วมกิจกรรม'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 37\n                }, this) : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ActivityDetail, \"mt/LvpOOHLUOWV+OyU5tedA4kBs=\");\n\n_c2 = ActivityDetail;\nexport default ActivityDetail;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ThaiDate\");\n$RefreshReg$(_c2, \"ActivityDetail\");","map":{"version":3,"sources":["/Users/real/Desktop/last พรีรอบ5/give-for-child/src/pages/ActivityDetail.js"],"names":["React","useState","useEffect","moment","Container","Col","Row","Tab","Tabs","Card","Button","Swal","axios","BsArrowLeftShort","Footer","Link","ThaiDate","date","toLocaleDateString","year","month","day","ActivityDetail","props","activity","setActivity","get","match","params","id","then","res","data","catch","err","console","log","response","status","Confirm","method","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","joinActivity","activity_id","member_id","localStorage","getItem","post","window","history","back","paddingLeft","span","offset","textAlign","marginTop","backgroundImage","image","fontSize","name","fontWeight","Date","start_time","end_time","description","process","env","PUBLIC_URL","width","location","tel","foundation","person","person_max","backgroundColor","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport moment from 'moment';\n\nimport { Container, Col, Row, Tab, Tabs, Card, Button } from 'react-bootstrap';\nimport Swal from 'sweetalert2';\n\nimport axios from 'axios';\nimport { BsArrowLeftShort } from 'react-icons/bs';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './css/Activity.css';\nimport Footer from '../components/Footer';\nimport { Link } from 'react-router-dom';\n\nconst ThaiDate = (date) => {\n    return date.toLocaleDateString('th-TH', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n    });\n};\n\n\n\nconst ActivityDetail = (props) => {\n    const [activity, setActivity] = useState({});\n    useEffect(() => {\n        try {\n            axios\n                .get(`/activity/${props.match.params.id}}`)\n                .then(function (res) {\n                    setActivity(res.data);\n                })\n                .catch(function (err) {});\n        } catch (err) {\n            console.log(err);\n            if (err.response.status === 500) {\n            } else {\n            }\n        }\n    }, []);\n    \n    \nconst Confirm = (method) => {\n    Swal.fire({\n        title: 'ยืนยันเข้าร่วม',\n        text: '',\n        icon: 'info',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#ccc',\n        confirmButtonText: 'ตกลง',\n        cancelButtonText: 'ยกเลิก',\n    }).then((result) => {\n        if (result.isConfirmed) {\n            method();\n        }\n    });\n};\n\nconst joinActivity = async (activity_id) => {\n    const data = {\n        activity_id: activity_id,\n        member_id: localStorage.getItem('id'),\n    };\n    try {\n        axios\n            .post('/join-activity', data)\n            .then(function (res) {\n                Swal.fire('', res.data, 'success');\n                console.log(res.data);\n            })\n            .catch(function (err) {\n                Swal.fire('', 'พลาด', 'error');\n            });\n    } catch (err) {\n        console.log(err);\n        if (err.response.status === 500) {\n            Swal.fire('', 'พลาด', 'error');\n        } else {\n            Swal.fire('', 'พลาด', 'error');\n        }\n    }\n};\n    return (\n        <div>\n            <Container className='all-font'>\n            <br />\n\n            <Row>\n                <Col md={4}>\n                    <Link onClick={() => { window.history.back()}}>\n                        <Row style={{ paddingLeft: '16px' }}>\n                            <BsArrowLeftShort size={28} color={'#000000'} />\n\n                            <div className='text-back'>ย้อนกลับ </div>\n                        </Row>\n                    </Link>\n                </Col>\n                <Col md={{ span: 4, offset: 4 }}>\n                    <h2 style={{ textAlign: 'right' }}>รายละเอียด</h2>\n                </Col>\n            </Row>\n\n            <div className='nav-tabs-50 mb-5'>\n                <Row>\n                    <Col sm={8}>\n                        <Card border='light' className='card shadow' style={{ marginTop: 20 }}>\n                            <div\n                                className='detail-card'\n                                style={{\n                                    backgroundImage: `url('../resources/uploads/${activity.image}')`,\n                                }}\n                            ></div>\n                            <Card.Body>\n                                <Card.Title style={{ fontSize: '22px' }}>{activity.name}</Card.Title>\n\n                                <Card.Text style={{ fontSize: '14px', fontWeight: '400' }}>\n                                    {ThaiDate(new Date(activity.start_time))} - {ThaiDate(new Date(activity.end_time))}\n                                </Card.Text>\n\n                                <Card.Text>{activity.description}</Card.Text>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n\n                    <Col sm={4}>\n                        <Card border='light' className='card shadow' style={{ marginTop: 20 }}>\n                            <Card.Body>\n\n                                <Row style={{ paddingLeft: '16px' }}>\n                                    <img\n                                        src={process.env.PUBLIC_URL + '/resources/icon-show.png'}\n                                        style={{ width: 25 }}\n                                        alt=''\n                                    />\n\n                                    <div className='text-detail'>สถานที่ :\n                                    <span className='data-detail'>{activity.location}</span>\n                                    </div>\n\n                                    \n                                </Row>\n\n                                <Row style={{ paddingLeft: '16px', marginTop: '5px' }}>\n                                    <img\n                                        src={process.env.PUBLIC_URL + '/resources/icon-show-call.png'}\n                                        style={{ width: 25 }}\n                                        alt=''\n                                    />\n\n                                    <div className='text-detail'>ติดต่อ :</div>\n\n                                    <div className='data-detail'>{activity.tel}</div>\n                                </Row>\n\n                                <Row style={{ paddingLeft: '16px', marginTop: '5px' }}>\n                                    <img\n                                        src={process.env.PUBLIC_URL + '/resources/icon-show-home.png'}\n                                        style={{ width: 25 }}\n                                        alt=''\n                                    />\n\n                                    <div className='text-detail'>ผู้จัดกิจกรรม :</div>\n\n                                    <div className='data-detail'>{activity.foundation}</div>\n                                </Row>\n\n                                <Row style={{ paddingLeft: '16px', marginTop: '5px' }}>\n                                    <img\n                                        src={process.env.PUBLIC_URL + '/resources/icon-show-calenda.png'}\n                                        style={{ width: 25 }}\n                                        alt=''\n                                    />\n\n                                    <div className='text-detail'>วันที่จัดกิจกรรม :</div>\n\n                                    <div className='data-detail'>{ThaiDate(new Date(activity.start_time))}</div>\n                                </Row>\n\n                                <Row style={{ paddingLeft: '16px', marginTop: '5px' }}>\n                                    <img\n                                        src={process.env.PUBLIC_URL + '/resources/icon-show-user.png'}\n                                        style={{ width: 25 }}\n                                        alt=''\n                                    />\n\n                                    <div className='text-detail'>คนเข้าร่วมกิจกรรม :</div>\n\n                                    <div className='data-detail'>\n                                        {activity.person}/{activity.person_max} คน\n                                    </div>\n                                </Row>\n                                <br />\n                                {new Date(activity.start_time) < new Date() && localStorage.getItem('id') != null ? (\n                                    <Row>\n                                        <Col>\n                                            <Button\n                                                style={{\n                                                    width: '100%',\n                                                    backgroundColor: '#377780',\n                                                    color: 'white',\n                                                }}\n                                                variant=''\n                                                onClick={() => {\n                                                    Confirm(() => {joinActivity(activity.id);} );\n                                                }}\n                                                disabled={activity.person >= activity.person_max}\n                                            >\n                                                {activity.person >= activity.person_max\n                                                    ? 'เต็มแล้ว'\n                                                    : 'เข้าร่วมกิจกรรม'}\n                                            </Button>\n                                        </Col>\n                                    </Row>\n                                ) : (\n                                    ''\n                                )}\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                </Row>\n            </div>\n        </Container>\n                <Footer />\n        </div>\n    );\n};\n\nexport default ActivityDetail;\n"]},"metadata":{},"sourceType":"module"}