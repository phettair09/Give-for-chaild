{"ast":null,"code":"var _jsxFileName = \"/Users/real/Desktop/last/give-for-child/src/backoffice/GenerateJson.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Table, Form, FormControl, Button, Card, Modal } from 'react-bootstrap';\nimport './css/ActivityBack.css';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport CreateAdmin from './CreateAdmin';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HOST_URL_IMG = \"https://give-for-child.thesis-su2020ict.com/resources/uploads/\";\n\nconst LimitString = (msg, count) => {\n  return msg.substring(0, count) + (msg.length > count ? '...' : '');\n};\n\n_c = LimitString;\n\nconst GenerateJson = () => {\n  _s();\n\n  const [rowData, setRowData] = useState([]);\n  const [dataJson, setDataJson] = useState('');\n  useEffect(() => {\n    getFoundation();\n  }, []);\n  let obj = {};\n\n  const getFoundation = async () => {\n    try {\n      await axios.get(`/foundation`).then(function (res) {\n        if (res.data) {\n          setRowData(res.data);\n          const foundationObj = res.data.map(f => {\n            return {\n              actions: [{\n                label: \"รายละเอียด\",\n                uri: f.url,\n                type: \"uri\"\n              }],\n              title: LimitString(f.name, 30),\n              defaultAction: {\n                label: \"รายละเอียด\",\n                uri: f.url,\n                type: \"uri\"\n              },\n              imageBackgroundColor: \"#FFFFFF\",\n              text: LimitString(f.address, 40),\n              thumbnailImageUrl: HOST_URL_IMG + f.img\n            }; // return{\n            //     defaultAction: {\n            //         label: \"รายละเอียด\",\n            //         uri: f.url,\n            //         type: \"uri\"\n            //     },\n            //     text: LimitString(f.address,40),\n            //     title: LimitString(f.name,20),\n            //     actions: [\n            //       {\n            //         type: \"uri\",\n            //         uri: f.url,\n            //         label: \"รายละเอียด\"\n            //       }\n            //     ],\n            //     thumbnailImageUrl: HOST_URL_IMG + f.img,\n            //     imageBackgroundColor: \"#FFFFFF\"\n            //   }\n          });\n          obj = {\n            line: {\n              altText: \"this is a carousel template\",\n              type: \"template\",\n              template: {\n                columns: foundationObj,\n                imageAspectRatio: \"rectangle\",\n                type: \"carousel\",\n                imageSize: \"cover\"\n              }\n            }\n          };\n          const j = JSON.stringify(obj, undefined, 4);\n          setDataJson(j);\n          console.log(j);\n        }\n      }).catch(function (err) {});\n    } catch (err) {\n      console.log(err);\n\n      if (err.response.status === 500) {} else {}\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"all-font\",\n    style: {\n      width: 'calc(100%-300px;)',\n      height: '100vh',\n      overflow: 'scroll'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '3rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          padding: '1.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n          children: \"JSON\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"form_json\",\n          cols: \"30\",\n          style: {\n            height: 500\n          },\n          value: dataJson,\n          rows: \"10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GenerateJson, \"uQIJ2sNuQWkVPFzc2uLP4fCPmlM=\");\n\n_c2 = GenerateJson;\nexport default GenerateJson;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LimitString\");\n$RefreshReg$(_c2, \"GenerateJson\");","map":{"version":3,"sources":["/Users/real/Desktop/last/give-for-child/src/backoffice/GenerateJson.js"],"names":["React","useState","useEffect","Link","Table","Form","FormControl","Button","Card","Modal","axios","Swal","CreateAdmin","HOST_URL_IMG","LimitString","msg","count","substring","length","GenerateJson","rowData","setRowData","dataJson","setDataJson","getFoundation","obj","get","then","res","data","foundationObj","map","f","actions","label","uri","url","type","title","name","defaultAction","imageBackgroundColor","text","address","thumbnailImageUrl","img","line","altText","template","columns","imageAspectRatio","imageSize","j","JSON","stringify","undefined","console","log","catch","err","response","status","width","height","overflow","padding"],"mappings":"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","sourcesContent":["\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Table, Form, FormControl, Button, Card, Modal } from 'react-bootstrap';\nimport './css/ActivityBack.css';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport CreateAdmin from './CreateAdmin';\nconst HOST_URL_IMG = \"https://give-for-child.thesis-su2020ict.com/resources/uploads/\";\n\nconst LimitString = (msg, count) => {\n    return msg.substring(0, count) + (msg.length > count ? '...' : '')\n}\n\nconst GenerateJson = () => {\n    const [rowData, setRowData] = useState([]);\n    const [dataJson, setDataJson] = useState('');\n\n\n    useEffect(() => {\n        getFoundation();\n    }, []);\n    let obj = {};\n    const getFoundation = async () => {\n        try {\n            await axios\n                .get(`/foundation`)\n                .then(function (res) {\n                    if (res.data) {\n                        setRowData(res.data);\n                        const foundationObj = res.data.map(f => {\n\n                            return {\n                                    actions: [\n                                      {\n                                        label: \"รายละเอียด\",\n                                        uri: f.url,\n                                        type: \"uri\"\n                                      }\n                                    ],\n                                    title: LimitString(f.name,30),\n                                    defaultAction: {\n                                        label: \"รายละเอียด\",\n                                        uri: f.url,\n                                      type: \"uri\"\n                                    },\n                                    imageBackgroundColor: \"#FFFFFF\",\n                                    text: LimitString(f.address,40),\n                                    thumbnailImageUrl: HOST_URL_IMG + f.img\n                                  \n                            }\n\n                            // return{\n                            //     defaultAction: {\n                            //         label: \"รายละเอียด\",\n                            //         uri: f.url,\n                            //         type: \"uri\"\n                            //     },\n                            //     text: LimitString(f.address,40),\n                            //     title: LimitString(f.name,20),\n                            //     actions: [\n                            //       {\n                            //         type: \"uri\",\n                            //         uri: f.url,\n                            //         label: \"รายละเอียด\"\n                            //       }\n                            //     ],\n                            //     thumbnailImageUrl: HOST_URL_IMG + f.img,\n                            //     imageBackgroundColor: \"#FFFFFF\"\n                            //   }\n                        });\n                        obj = {\n                            line: {\n                                altText: \"this is a carousel template\",\n                                type: \"template\",\n                                template: {\n                                    columns: foundationObj,\n                                imageAspectRatio: \"rectangle\",\n                                    type: \"carousel\",\n                                    imageSize: \"cover\"\n                                }\n                            }\n                        }\n                        const j = JSON.stringify(obj, undefined, 4)\n                        setDataJson(j);\n                        console.log(j);\n                    }\n                })\n                .catch(function (err) {});\n        } catch (err) {\n            console.log(err);\n            if (err.response.status === 500) {\n            } else {\n            }\n        }\n    };\n\n\n\n    return (\n        <div\n            className='all-font'\n            style={{\n                width: 'calc(100%-300px;)',\n                height: '100vh',\n                overflow: 'scroll',\n            }}\n        >\n            <div style={{ padding: '3rem' }}>\n                <Card style={{ padding: '1.5rem' }}>\n                    <Card.Title>JSON</Card.Title>\n                    <textarea id=\"form_json\" cols=\"30\" style={{height:500}} value={dataJson} rows=\"10\"></textarea>\n                </Card>\n            </div>\n        </div>\n    );\n};\n\nexport default GenerateJson;\n"]},"metadata":{},"sourceType":"module"}